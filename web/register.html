<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register</title>
    <link href="./bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="./bootstrap/css/bootstrap-grid.css" rel="stylesheet">
    <link href="./bootstrap/css/bootstrap-reboot.css" rel="stylesheet">
    <style>
        label.custom-control-label {
            position: relative;
            padding-right: 1.5rem;
        }
        label.custom-control-label::before, label.custom-control-label::after{
            right: 0;
            left: auto;
        }
        .bg-image {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: url("./img/background.jpg");
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }
    </style>
</head>
<body>
<div class="bg-image"></div>
<div class="container d-flex float-left">
    <div class="card text-center text-white  border border-light p-5" style="margin-top: 8%; margin-left: 4%; background-color: rgb(0,0,0); background-color: rgba(0,0,0, 0.5);">
    <form action="/Register" method="post">
        <h4 class="text-white mb-4">Sign up</h4>
        <label class="text-white">Are you a Student or a Teacher?</label>
        <div class="custom-control custom-radio custom-control-inline">
            <input name="option" id="student" type="radio" onchange="if(this.checked){check_holder(1)}" class="custom-control-input" required>
            <label class="custom-control-label text-white" for="student">Student</label>
        </div>
        <div class="custom-control custom-radio custom-control-inline">
            <input name="option" id="teacher" type="radio" onchange="if(this.checked){check_holder()}" class="custom-control-input">
            <label class="custom-control-label text-white" for="teacher">Teacher</label>
        </div>
        <br><br>
        <div class="form-row">
            <div class="col">
                <input name ="uname" type="text" pattern="^[a-zA-Z]+$" class="form-control text-lowercase" placeholder="First name" title="Enter your first name" required>
            </div>
            <div class="col">
                <input name ="surname" type="text" pattern="^[a-zA-Z]+$" class="form-control text-lowercase" placeholder="Last name" title="Enter your last name" required>
            </div>
        </div>
        <small class="form-text text-white mb-4">
            First name will be used as username too
        </small>
        <div class="form-row">
            <div class="col">
                <input id="pass" name ="pass" type="password" pattern="^[a-zA-Z]+$" maxlength="4" class="form-control text-lowercase" placeholder="Password"
                       title="Must consist of 4 letters, read the text below" required>
            </div>
            <div class="col">
                <input  id="conpass" name ="conpass" pattern="^[a-zA-Z]+$" maxlength="4"  class="form-control text-lowercase" placeholder="Reenter Password" type="password" required>
            </div>
        </div>
        <small class="form-text text-white mb-5">
            Must consist of 4 letters, 1st letter is the 1st character of your first name, 2nd letter is the first character of your last name,
            <br>3rd letter is the first character of your father's name and 4th letter is the first character of your mother's name
        </small>
        <input type='hidden' id= 'hiddenField' name='option_type' value='' />

        <!-- Sign up button -->
        <button id="registerButton" onclick="validation()" class="btn btn-info my-4 btn-block" type="submit">Sign in</button>

        <hr>

        <p>Do you already have an account?
            <a style="color: #f3fa96" href="login.html">Back to login</a>
        </p>
    </form>
    </div>
</div>
<script>
    function check_holder(X) {
        if (X == 1){
            document.getElementById("hiddenField").value = "S";
        }else{
            document.getElementById("hiddenField").value = "T";
        }
    }

    var pass = document.getElementById("pass");
    var conpass = document.getElementById("conpass");
    function validation()
    {
        if(pass.value != conpass.value) {
            conpass.setCustomValidity("Passwords don't match");
            conpass.value = "";
        } else {
            conpass.setCustomValidity('');
        }

    }
    pass.onchange = validation();
    conpass.onkeyup = validation();
</script>
</body>
</html>